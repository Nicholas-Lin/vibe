{"version":3,"sources":["hash.js","config.js","Components/SubmitButton.js","Components/SoundWave.js","Views/Login.js","Components/Vibe/LineChart.js","Api.js","Components/Vibe/VibeDashboard.js","Components/Mood/PopularityDisplay.js","Components/Mood/DoughnutChart.js","Components/Mood/PercentDisplay.js","Components/Mood/ComparisonsDisplay.js","Components/Mood/Slider.js","Components/Mood/TrackFeaturesDisplay.js","Components/Mood/ImageCarousel.js","Components/Mood/CarouselPlayer.js","Components/Mood/RecentShowcase.js","Components/Mood/MoodDashboard.js","Components/Loading.js","Components/Favorites/ResultItem.js","Components/Favorites/ResultTable.js","Components/Favorites/SearchBar.js","Components/Favorites/FavoritesDisplay.js","Components/Footer.js","Views/MainDisplay.js","App.js","index.js","Assets/cassette.gif"],"names":["hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","loginURL","concat","process","join","SubmitButton","React","Component","render","this","props","isLoggedIn","createElement","Button","className","variant","onClick","handleLogin","SoundWave","Login","Container","Col","Fade","duration","delay","href","target","rel","role","aria-label","Chart","defaults","global","defaultFontColor","defaultColor","scale","gridLines","color","LineWithLine","line","controllers","extend","draw","ease","prototype","call","chart","tooltip","_active","length","activePoint","ctx","x","tooltipPosition","topY","legend","bottom","bottomY","chartArea","save","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","restore","LineChart","constructor","super","chartRef","createRef","componentDidMount","current","type","data","labels","datasets","map","dataset","label","borderColor","borderWidth","fill","backgroundColor","pointBackgroundColor","pointBorderWidth","pointBorderColor","pointRadius","pointHitRadius","pointHoverBackgroundColor","pointHoverBorderColor","options","maintainAspectRatio","tooltips","mode","intersect","titleFontColor","bodyFontColor","callbacks","tooltipItem","datasetIndex","Math","round","yLabel","title","description","ref","Api","api_token","token","playlistID","uris","endpoint","jsonData","config","headers","Authorization","axios","post","userID","name","isPublic","public","id","get","time_range","limit","params","items","searchTerms","owner","q","playlists","filter","isTermInName","forEach","term","toLowerCase","includes","display_name","res","fields","tracks","features","ids","track","push","results","audio_features","trackFeatures","result","feature","correspondingTrack","find","popularity","Object","keys","VibeDashboard","state","isLoading","API","requestFeatures","searchResults","searchForPlaylist","Promise","all","async","response","getPlaylist","year","pop","playlist","setState","playlistFeatures","getTrackFeatures","computeFeatures","recentPlaylist","getUserFavorites","createGraphData","averageFeatures","acousticness","danceability","energy","valence","key","Number","EPSILON","averages","graphData","sort","a","b","localeCompare","unshift","formattedData","topSpotifyDatasets","averageSpotifyDatasets","spanGaps","load","chartDescriptions","fluid","Row","md","PopularityDisplay","score","ranges","descriptions","emojis","emoji","i","lowerBound","upperBound","setTimeout","style","height","CircularProgressbar","value","text","background","backgroundPadding","DoughnutChart","sum","position","responsive","PercentDisplay","arrow","percent","FontAwesomeIcon","icon","faLongArrowAltDown","size","marginRight","faLongArrowAltUp","rangeSize","floor","abs","ComparisonsDisplay","calculatePercentDifferences","originalObject","newObject","differences","percentDifference","averageRecentFeatures","recentTracksFeatures","averageComparisonFeatures","comparisonTracksFeatures","comparisonType","ButtonGroup","e","handleChange","checked","defaultChecked","Slider","muiTheme","createMuiTheme","overrides","MuiSlider","valueLabel","paddingLeft","thumb","width","rail","OverlayTrigger","placement","overlay","Tooltip","ThemeProvider","theme","MUISlider","valueLabelDisplay","TrackFeaturesDisplay","COLORS","TOOLTIPS","sliders","index","charAt","toUpperCase","slice","ImageCarousel","carouselItems","images","image","Carousel","Item","src","url","alt","indicators","controls","fade","interval","pause","onSelect","handleSlide","activeIndex","CarouselPlayer","trackIsPlaying","handlePlayPause","handleEnded","nextSlide","trackImages","currentIndex","AudioPlayer","autoPlay","currentTrack","previewURL","onPlay","onPause","onClickPrevious","previousSlide","onClickNext","onEnded","showFilledProgress","showDownloadProgress","showSkipControls","showJumpControls","customProgressBarSection","volume","autoPlayAfterSrcChange","RecentShowcase","bind","newIndex","minHeight","artist","span","order","MoodDashboard","uniqueRecentTracks","showComparison","cycleComparisonTypes","artists","Map","genre","genres","set","val","favorites","comparisonTypes","setInterval","indexOf","recentTracks","getRecentTracks","formattedRecentTracks","formattedRecentTrack","liveness","speechiness","instrumentalness","album","preview_url","Array","from","Set","getGenres","popularityScore","top","short_term","medium_term","long_term","getComparisonFeatures","error","console","log","status","handleTimeout","componentWillUnmount","clearInterval","event","comparisonDescriptor","BSFade","in","timeout","fontSize","percentages","Loading","display","flexDirection","alignItems","justifyContent","cassette","maxHeight","maxWidth","ResultItem","isPlaying","isHovering","handleMouseHover","handleClick","playTrack","toggleHoverState","subtitle","searchTerm","termNotInTitle","termNotInSubtitle","resultCoverStyle","backgroundImage","marginLeft","faPlayCircle","onMouseEnter","onMouseLeave","uri","ResultTable","currentlyPlaying","activeTrack","document","getElementById","paused","play","currentTime","Audio","setAttribute","onended","append","topType","undefined","external_urls","spotify","alignSelf","SearchBar","placeholder","onChange","timeRange","handleCreatePlaylist","fontWeight","FavoritesDisplay","getUserID","descriptor","playlistName","playlistDescription","Date","toDateString","createPlaylist","addItemsToPlaylist","playlistURI","open","MainDisplay","moodDashboardIsLoading","vibeDashboardIsLoading","favoritesDisplayIsLoading","updateLoadingStatus","loadMoodDashboard","loadVibeDashboard","loadFavorites","Fragment","Footer","App","_token","access_token","replace","ReactDOM","module","exports"],"mappings":"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","file":"static/js/main.aa1b0027.chunk.js","sourcesContent":["/**\n * File Name: hash.js\n * Author: Nicholas Lin\n * Date: 7/11/20\n * Description: Gets hash parameters from url\n */\n\nconst hash = window.location.hash\n  .substring(1)\n  .split(\"&\")\n  .reduce(function (initial, item) {\n    if (item) {\n      var parts = item.split(\"=\");\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n    }\n    return initial;\n  }, {});\n//window.location.hash = \"\";\n\nexport default hash;\n","/**\n * File Name: config.js\n * Author: Nicholas Lin\n * Date: 7/11/20\n * Description: Sets up configuration for Spotify OAuth request\n */\n\nexport const authEndpoint = \"https://accounts.spotify.com/authorize\";\n\n// Uses environment variables from .env in root directory\nexport const clientId = process.env.REACT_APP_SPOTIFY_CLIENT_ID;\nexport const redirectUri = process.env.REACT_APP_REDIRECT_URI;\n\nexport const scopes = [\n  \"playlist-read-private\",\n  \"user-top-read\",\n  \"user-read-recently-played\",\n  \"playlist-modify-private\",\n  \"playlist-modify-public\",\n];\nexport const loginURL = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\n  \"%20\"\n)}&response_type=token&show_dialog=true`;\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nclass SubmitButton extends React.Component {\n  render() {\n    if (this.props.isLoggedIn) {\n      return null;\n    }\n    return (\n      <div>\n        <Button\n          className=\"submit-button\"\n          variant=\"success\"\n          onClick={() => this.props.handleLogin()}\n        >\n          Login with Spotify\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default SubmitButton;\n","import React from \"react\";\nimport \"../sound-wave.css\";\n\nfunction SoundWave() {\n  return (\n    <div className=\"sound-icon disabled\">\n      <div className=\"sound-wave\">\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n        <i className=\"bar\"></i>\n      </div>\n    </div>\n  );\n}\n\nexport default SoundWave;\n","/**\n * File Name: Login.js\n * Author: Nicholas Lin\n * Date: 7/11/20\n * Description: Login page and landing page of the website\n */\n\nimport React from \"react\";\nimport SubmitButton from \"../Components/SubmitButton\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport SoundWave from \"../Components/SoundWave\";\nimport Fade from \"react-reveal/Fade\";\n\nfunction Login(props) {\n  if (props.isLoggedIn) {\n    return null;\n  }\n  return (\n    <Container>\n      <Col className=\"d-flex align-items-center flex-column login justify-content-center login\">\n        <Fade duration={2000}>\n          <header> Vibe </header>\n          <SoundWave />\n          <Fade delay={1000}>\n            <SubmitButton\n              isLoggedIn={props.isLoggedIn}\n              handleLogin={() => props.handleLogin()}\n            />\n          </Fade>\n\n          <h4 className=\"mt-5\">Get insights into your vibe.</h4>\n          <h6 className=\"mt-5\">\n            {\" \"}\n            Created by{\" \"}\n            <a\n              href=\"https://nicholas-lin.github.io/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {\" \"}\n              Nicholas Lin.{\" \"}\n            </a>{\" \"}\n          </h6>\n          <Fade delay={2000}>\n            <h6>\n              Your information is never stored. Powered by{\" \"}\n              <a\n                href=\"https://developer.spotify.com/documentation/web-api/\"\n                target=\"_blank \"\n                rel=\"noopener noreferrer\"\n              >\n                {\" \"}\n                Spotify's API.{\" \"}\n              </a>{\" \"}\n            </h6>\n\n            <h6>\n              Give this project a{\" \"}\n              <span role=\"img\" aria-label=\"star emoji\">\n                🌟\n              </span>{\" \"}\n              on\n              <a\n                href=\"https://github.com/Nicholas-Lin/vibe\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {\" \"}\n                Github.\n              </a>\n            </h6>\n          </Fade>\n        </Fade>\n      </Col>\n    </Container>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport Chart from \"chart.js\";\nimport Col from \"react-bootstrap/Col\";\n\nChart.defaults.global.defaultFontColor = \"white\";\nChart.defaults.global.defaultColor = \"white\";\nChart.defaults.scale.gridLines.color = \"rgb(83,83,83)\";\nChart.defaults.LineWithLine = Chart.defaults.line;\nChart.controllers.LineWithLine = Chart.controllers.line.extend({\n  draw: function (ease) {\n    Chart.controllers.line.prototype.draw.call(this, ease);\n\n    if (this.chart.tooltip._active && this.chart.tooltip._active.length) {\n      let activePoint = this.chart.tooltip._active[0];\n      let ctx = this.chart.ctx;\n      let x = activePoint.tooltipPosition().x;\n      let topY = this.chart.legend.bottom;\n      let bottomY = this.chart.chartArea.bottom;\n\n      // let meta = this.getMeta();\n      // meta.data.forEach((element) => {\n      //   if (element._model.x === x) {\n      //     topY = element._model.y;\n      //     bottomY = y;\n      //   }\n      // });\n\n      ctx.save();\n      ctx.beginPath();\n      ctx.moveTo(x, topY);\n      ctx.lineTo(x, bottomY);\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = \"rgb(255, 255, 255, 0.5)\";\n      ctx.stroke();\n      ctx.restore();\n    }\n  },\n});\n\nclass LineChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.chartRef = React.createRef();\n  }\n  componentDidMount() {\n    new Chart(this.chartRef.current, {\n      type: \"LineWithLine\",\n      data: {\n        labels: this.props.data.labels,\n        datasets: this.props.data.datasets.map((dataset) => {\n          return {\n            data: dataset.data,\n            label: dataset.label,\n            borderColor: dataset.borderColor,\n            borderWidth: 2,\n            fill: dataset.fill,\n            backgroundColor: dataset.backgroundColor,\n\n            pointBackgroundColor: dataset.borderColor,\n            pointBorderWidth: 1,\n            pointBorderColor: \"black\",\n            pointRadius: 5,\n            pointHitRadius: 6,\n            pointHoverBackgroundColor: \"black\",\n            pointHoverBorderColor: dataset.borderColor,\n          };\n        }),\n      },\n      options: {\n        maintainAspectRatio: false,\n        tooltips: {\n          mode: \"index\",\n          intersect: false,\n          titleFontColor: \"black\",\n          bodyFontColor: \"black\",\n          backgroundColor: \"rgba(255, 255, 255, 0.9)\",\n          callbacks: {\n            label: function (tooltipItem, data) {\n              var label = data.datasets[tooltipItem.datasetIndex].label || \"\";\n\n              if (label) {\n                label += \": \";\n              }\n              label += Math.round(tooltipItem.yLabel);\n              return label;\n            },\n          },\n        },\n      },\n    });\n  }\n\n  render() {\n    return (\n      <Col className=\" h-100 d-flex flex-column justify-content-between align-items-center p-0\">\n        <h3>{this.props.title}</h3>\n        <p>{this.props.description}</p>\n        <div className=\"line-chart-container\">\n          <canvas ref={this.chartRef} />\n        </div>\n      </Col>\n    );\n  }\n}\n\nexport default LineChart;\n","import axios from \"axios\";\nclass Api {\n  constructor(api_token) {\n    this.token = api_token;\n  }\n\n  /**\n   * Gets user's ID\n   * https://developer.spotify.com/documentation/web-api/reference/users-profile/get-current-users-profile/\n   * @param  {string} playlistID - The type of entity to return. Valid values: artists or tracks.\n   * * @param  {Array<string>} playlistID - The type of entity to return. Valid values: artists or tracks.\n   * @return An array of track or artists objects\n   */\n  async addItemsToPlaylist(playlistID, uris) {\n    const endpoint = `\thttps://api.spotify.com/v1/playlists/${playlistID}/tracks`;\n    const jsonData = { uris };\n\n    // set the headers\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${this.token}`,\n      },\n    };\n    await axios.post(endpoint, jsonData, config);\n  }\n\n  /**\n   * Gets user's ID\n   * https://developer.spotify.com/documentation/web-api/reference/users-profile/get-current-users-profile/\n   * @param  {string} userID - The user ID\n   * @param  {string} name - The name of the playlist\n   * @param  {string} description - The description\n   * @param  {boolean} isPublic - Whether or not the playlist will be public (default true)\n   * @return The playlist ID\n   */\n  async createPlaylist(userID, name, description, isPublic = true) {\n    const endpoint = `https://api.spotify.com/v1/users/${userID}/playlists`;\n    const jsonData = {\n      name: name,\n      description: description,\n      public: isPublic,\n    };\n\n    // set the headers\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${this.token}`,\n      },\n    };\n    const response = await axios.post(endpoint, jsonData, config);\n    return response.data.id;\n  }\n\n  /**\n   * Gets user's ID\n   * https://developer.spotify.com/documentation/web-api/reference/users-profile/get-current-users-profile/\n   * @return The ID of the current user\n   */\n  async getUserID() {\n    const endpoint = `https://api.spotify.com/v1/me`;\n    const response = await axios.get(endpoint, {\n      headers: {\n        Authorization: `Bearer ${this.token}`,\n      },\n    });\n    return response.data.id;\n  }\n\n  /**\n   * Gets users top tracks/artists in a given time range:\n   * https://developer.spotify.com/documentation/web-api/reference/personalization/get-users-top-artists-and-tracks/\n   * @param  {string} type - The type of entity to return. Valid values: artists or tracks.\n   * @param {string} time_range - Over what time frame the affinities are computed. Valid values: long_term, medium_term, short_term\n   * @param {number} limit - The number of entities to return. Default: 20. Minimum: 1. Maximum: 50.\n   * @return An array of track or artists objects\n   */\n  async getUserFavorites(type, time_range, limit = 20) {\n    const endpoint = `https://api.spotify.com/v1/me/top/${type}`;\n    const response = await axios.get(endpoint, {\n      headers: {\n        Authorization: `Bearer ${this.token}`,\n      },\n      params: {\n        time_range: time_range,\n        limit: limit,\n      },\n    });\n    return response.data.items;\n  }\n\n  /**\n   * Searches spotify for a playlist given search terms and the owner\n   * @param  {Array<string>} searchTerms - An array of search terms\n   * @param {string} owner - The owner of the playlist\n   * @return playlist object with id and name fields\n   */\n  async searchForPlaylist(searchTerms, owner) {\n    const endpoint = \"https://api.spotify.com/v1/search\";\n    let res = await axios.get(endpoint, {\n      headers: {\n        Authorization: `Bearer ${this.token}`,\n      },\n      params: {\n        q: searchTerms.join(\"%20\"),\n        type: \"playlist\",\n        limit: \"10\",\n      },\n    });\n    const result = res.data.playlists.items.filter((item) => {\n      let isTermInName = true;\n      // Checks if search terms are in the name of the playlist\n      searchTerms.forEach((term) => {\n        isTermInName =\n          isTermInName && item.name.toLowerCase().includes(term.toLowerCase());\n      });\n      // If the search terms in name and owner matches playlist owner name return item\n      return (\n        isTermInName &&\n        item.owner.display_name.toLowerCase().includes(owner.toLowerCase())\n      );\n    });\n    return result;\n  }\n\n  /**\n   * Gets details of a playlist given the id\n   * @param  {string} id - The id of the playlist\n   * @return an object containing the name and tracks of the playlist\n   */\n  async getPlaylist(id) {\n    const endpoint = \"https://api.spotify.com/v1/playlists/\";\n    let res = await axios.get(`${endpoint}${id}`, {\n      headers: {\n        Authorization: `Bearer ${this.token}`,\n      },\n      params: {\n        fields: \"name,tracks.items(track)\",\n      },\n    });\n    return {\n      name: res.data.name,\n      tracks: res.data.tracks.items,\n    };\n  }\n\n  /**\n   * Gets an array of 50 tracks that the user recently played\n   * @return {Array<SimpleTrack>} - An array of simple track objects from Spotify\n   */\n  async getRecentTracks() {\n    const endpoint = \"https://api.spotify.com/v1/me/player/recently-played\";\n    let res = await axios.get(endpoint, {\n      headers: {\n        Authorization: `Bearer ${this.token}`,\n      },\n      params: {\n        limit: 50,\n      },\n    });\n    return res.data.items;\n  }\n\n  /**\n   * Gets the features of an array of tracks\n   * @param  {Array<SimpleTrackObject>} tracks - An array of Spotify tracks to analyze\n   * @return {Array<Objects>} - An array of objects that contain trackID, acousticness, danceability, energy, valence, and popularity properties\n   */\n  async getTrackFeatures(tracks, features) {\n    let ids = [];\n    tracks.forEach((item) => {\n      if (item.track) {\n        ids.push(item.track.id);\n      } else {\n        ids.push(item.id);\n      }\n    });\n    const endpoint = \"https://api.spotify.com/v1/audio-features\";\n    let res = await axios.get(endpoint, {\n      headers: {\n        Authorization: `Bearer ${this.token}`,\n      },\n      params: {\n        ids: ids.join(),\n      },\n    });\n    let results = [];\n\n    res.data.audio_features.forEach((trackFeatures) => {\n      if (!trackFeatures) {\n        return null;\n      }\n      let result = {};\n      features.forEach((feature) => {\n        if (feature === \"popularity\") {\n          const correspondingTrack = tracks.find(\n            (item) =>\n              (item.track ? item.track.id : item.id) === trackFeatures.id\n          );\n          result[feature] = correspondingTrack.track\n            ? correspondingTrack.track.popularity\n            : correspondingTrack.popularity;\n        } else if (\n          trackFeatures &&\n          Object.keys(trackFeatures).includes(feature)\n        ) {\n          result[feature] = trackFeatures[feature];\n        }\n      });\n      results.push(result);\n    });\n    return results;\n  }\n}\n\nexport default Api;\n","import React from \"react\";\nimport LineChart from \"./LineChart\";\nimport Api from \"../../Api\";\nimport Fade from \"react-reveal/Fade\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nclass VibeDashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: this.props.token,\n      data: [],\n      features: [],\n      isLoading: true,\n    };\n  }\n\n  async componentDidMount() {\n    const API = new Api(this.props.token);\n    const requestFeatures = [\n      \"id\",\n      \"acousticness\",\n      \"danceability\",\n      \"energy\",\n      \"valence\",\n    ];\n    const searchResults = await API.searchForPlaylist(\n      [\"Your Top Songs\"],\n      \"Spotify\"\n    );\n    await Promise.all(\n      searchResults.map(async (item) => {\n        // If search result is a top track playlist\n        if (item.name.length === 19) {\n          let response = await API.getPlaylist(item.id);\n          const year = response.name.split(\" \").pop();\n          const playlist = {\n            year: year,\n            tracks: response.tracks,\n          };\n          this.setState({\n            data: [...this.state.data, playlist],\n          });\n          const playlistFeatures = await API.getTrackFeatures(\n            playlist.tracks,\n            requestFeatures\n          );\n          this.computeFeatures(year, playlistFeatures);\n        }\n      })\n    );\n    let recentPlaylist = await API.getUserFavorites(\n      \"tracks\",\n      \"medium_term\",\n      50\n    );\n    // Workaround for get track features\n    recentPlaylist = recentPlaylist.map((item) => {\n      return { track: item };\n    });\n    const playlistFeatures = await API.getTrackFeatures(\n      recentPlaylist,\n      requestFeatures\n    );\n    this.computeFeatures(\"2020\", playlistFeatures);\n    this.createGraphData();\n  }\n\n  computeFeatures(year, playlistFeatures) {\n    let averageFeatures = {\n      acousticness: 0,\n      danceability: 0,\n      energy: 0,\n      valence: 0,\n    };\n    playlistFeatures.forEach((track) => {\n      for (let key in track) {\n        if (key !== \"id\") {\n          averageFeatures[key] += track[key];\n        }\n      }\n    });\n    for (let key in averageFeatures) {\n      averageFeatures[key] =\n        Math.round(\n          ((averageFeatures[key] * 100) / playlistFeatures.length +\n            Number.EPSILON) *\n            100\n        ) / 100;\n    }\n    this.setState({\n      features: [\n        ...this.state.features,\n        {\n          year: year,\n          averages: averageFeatures,\n        },\n      ],\n    });\n  }\n\n  createGraphData() {\n    let graphData = {\n      acousticness: [],\n      danceability: [],\n      energy: [],\n      valence: [],\n    };\n    let sortedByYearFeatures = []\n      .concat(this.state.features)\n      .sort((a, b) => a.year.localeCompare(b.year));\n\n    // TESTING\n    // sortedByYearFeatures = [\n    //   {\n    //     averages: {\n    //       acousticness: 1,\n    //       danceability: 1,\n    //       energy: 2,\n    //       valence: 3,\n    //     },\n    //     year: \"2019\",\n    //   },\n    //   {\n    //     averages: {\n    //       acousticness: 1,\n    //       danceability: 1,\n    //       energy: 2,\n    //       valence: 3,\n    //     },\n    //     year: \"2020\",\n    //   },\n    // ];\n\n    // console.log(sortedByYearFeatures);\n    sortedByYearFeatures.forEach((year) => {\n      for (let key in year.averages) {\n        graphData[key].push(year.averages[key]);\n      }\n    });\n\n    for (let key in graphData) {\n      while (graphData[key].length < 5) {\n        graphData[key].unshift(null);\n      }\n    }\n\n    // console.log(graphData);\n    let formattedData = {};\n\n    const topSpotifyDatasets = {\n      acousticness: [15.88, 16.63, 19.57, 22.16, 21.39, 35.3, 24.0, 27.1],\n      danceability: [63.25, 69.68, 71.65, 71.38, 71.99, 71.3, 69.0, 67],\n      energy: [67.24, 66.07, 65.91, 64.06, 65.05, 62.7, 67.0, 64.3],\n      valence: [45.15, 51.7, 48.44, 54.6, 53.1, 69.0, 49.0, 51.4],\n    };\n\n    const averageSpotifyDatasets = {\n      acousticness: [28.03, 28.99, 27.19, 28.93, 24.74],\n      danceability: [60, 61.23, 66.5, 64.42, 67.31],\n      energy: [59.29, 58.67, 59.06, 57.88, 61.19],\n      valence: [43.08, 41.45, 44.71, 46.59, 48.28],\n    };\n    // console.log(graphData);\n    for (const feature in graphData) {\n      formattedData[feature] = {\n        labels: [\"2016\", \"2017\", \"2018\", \"2019\", \"2020\", \"2021\", \"2022\", \"2023\"],\n        datasets: [\n          {\n            data: graphData[feature],\n            label: \"Your Top Songs\",\n            fill: true,\n            borderColor: \"rgba(29,185,84,1)\",\n            backgroundColor: \"rgba(29,185,84,0.4)\",\n            spanGaps: false,\n          },\n          {\n            data: averageSpotifyDatasets[feature],\n            label: \"Average Song\",\n            fill: false,\n            borderColor: \"rgba(255, 255, 255, 0.9)\",\n          },\n          {\n            data: topSpotifyDatasets[feature],\n            label: \"Top Spotify Songs\",\n            fill: false,\n            borderColor: \"rgba(255,99,132,1)\",\n          },\n        ],\n      };\n    }\n    // console.log(formattedData);\n    this.setState({ formattedData: formattedData, isLoading: false });\n    this.props.load();\n  }\n  render() {\n    const chartDescriptions = {\n      valence:\n        \"Valence (positivity) describes how happy, cheerful, and euphoric a track feels, while tracks with low valence tend to sound sad, depressed, or angry.\",\n      danceability:\n        \"Describes how suitable a track is for dancing based on a combination of its tempo, rhythm stability, and beat strength.\",\n      energy:\n        \"Describes how fast, loud, and noisy a track feels. For example, death metal has high energy, while a Bach prelude scores low on the scale.\",\n      acousticness:\n        \"Describes how many more elements of a song are acoustic, as opposed to electric. Songs with a higher score are more likely to be acoustic..\",\n    };\n    return (\n      !this.state.isLoading && (\n        <div>\n          <Container fluid=\"lg\">\n            <Fade>\n              <header>Your Vibe</header>\n              <Row className=\"mt-4 mb-4\">\n                <Col md={6} className=\"mt-4 mb-4\">\n                  <LineChart\n                    title=\"Valence (Happiness)\"\n                    description={chartDescriptions.valence}\n                    data={this.state.formattedData.valence}\n                  />\n                </Col>\n                <Col md={6} className=\"mt-4 mb-4\">\n                  <LineChart\n                    title=\"Danceability\"\n                    description={chartDescriptions.danceability}\n                    data={this.state.formattedData.danceability}\n                  />\n                </Col>\n              </Row>\n              <Row className=\"mb-4\">\n                <Col md={6} className=\"mt-4 mb-4\">\n                  <LineChart\n                    title=\"Energy\"\n                    description={chartDescriptions.energy}\n                    data={this.state.formattedData.energy}\n                  />\n                </Col>\n                <Col md={6} className=\"mt-4 mb-4\">\n                  <LineChart\n                    title=\"Acousticness\"\n                    description={chartDescriptions.acousticness}\n                    data={this.state.formattedData.acousticness}\n                  />\n                </Col>\n              </Row>\n              <hr />\n            </Fade>\n          </Container>\n        </div>\n      )\n    );\n  }\n}\n\nexport default VibeDashboard;\n","import React, { Component } from \"react\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\n\nimport { CircularProgressbar } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport \"./progress-circle.css\";\n\nclass PopularityDisplay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      score: 0,\n    };\n  }\n  render() {\n    const ranges = [0, 30, 50, 70, 90, 100];\n    const descriptions = [\n      \"Hipster\",\n      \"Eccentric\",\n      \"Trendy\",\n      \"Mainstream\",\n      \"Basic\",\n    ];\n    const emojis = [\"🧐\", \"🤔\", \"😎\", \"🤩\", \"💁‍♀️\"];\n    let description, emoji;\n\n    for (let i = 0; i < ranges.length - 1; i++) {\n      const lowerBound = ranges[i];\n      const upperBound = ranges[i + 1];\n      if (this.props.score >= lowerBound && this.props.score < upperBound) {\n        description = descriptions[i];\n        emoji = emojis[i];\n        break;\n      }\n    }\n    setTimeout(() => {\n      this.setState({ score: Math.round(this.props.score) });\n    }, 500);\n\n    return (\n      <Col className=\"flex-column justify-content-center popularity-display\">\n        <h3>{`${description} ${emoji}`}</h3>\n        <h4>{\"Popularity Score\"}</h4>\n        <Row className=\"justify-content-center\" style={{ height: \"75%\" }}>\n          <CircularProgressbar\n            value={this.state.score}\n            text={this.state.score}\n            background={true}\n            backgroundPadding={5}\n          />\n        </Row>\n      </Col>\n    );\n  }\n}\n\nexport default PopularityDisplay;\n","import React from \"react\";\nimport Chart from \"chart.js\";\nChart.defaults.global.defaultFontColor = \"white\";\n//Chart.defaults.global.defaultColor = \"white\";\n\nclass DoughnutChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.chartRef = React.createRef();\n  }\n  componentDidMount() {\n    const { data } = this.props;\n    const limit = 10;\n    let formattedData = {\n      labels: [],\n      data: [],\n    };\n\n    for (let i = 0; i < data.length && i < limit; i++) {\n      formattedData.labels.push(data[i].key);\n      formattedData.data.push(data[i].value);\n    }\n    if (data.length >= limit) {\n      let sum = 0;\n      for (let i = limit; i < data.length; i++) {\n        sum += data[i].value;\n      }\n      formattedData.labels.push(\"Other\");\n      formattedData.data.push(sum);\n    }\n\n    const sum = formattedData.data.reduce((a, b) => a + b, 0);\n    formattedData.data = formattedData.data.map((item) =>\n      Math.round((item / sum) * 100)\n    );\n\n    new Chart(this.chartRef.current, {\n      type: \"doughnut\",\n      data: {\n        labels: formattedData.labels,\n        datasets: [\n          {\n            label: \"Genres\",\n            backgroundColor: [\n              \"rgba(255, 221, 0, 0.8)\",\n              \"rgba(255, 200, 0, 0.8)\",\n              \"rgba(255,166,0, 0.8)\",\n              \"rgba(255,124,67, 0.8)\",\n              \"rgba(249,93,106, 0.8)\",\n              \"rgba(212,80,135, 0.8)\",\n              \"rgba(160,81,149, 0.8)\",\n              \"rgba(102,81,145, 0.8)\",\n              \"rgba(47,75,124, 0.8)\",\n              \"rgba(29, 52, 130, 0.8)\",\n              \"rgba(10, 36, 66, 0.8)\",\n            ],\n            borderColor: [\n              \"rgba(255, 221, 0, 1)\",\n              \"rgba(255, 200, 0, 1)\",\n              \"rgba(255,166,0, 1)\",\n              \"rgba(255,124,67, 1)\",\n              \"rgba(249,93,106, 1)\",\n              \"rgba(212,80,135, 1)\",\n              \"rgba(160,81,149, 1)\",\n              \"rgba(102,81,145, 1)\",\n              \"rgba(47,75,124, 1)\",\n              \"rgba(29, 52, 130, 1)\",\n              \"rgba(10, 36, 66, 1)\",\n            ],\n            data: formattedData.data,\n          },\n        ],\n      },\n      options: {\n        legend: {\n          position: \"bottom\",\n        },\n        responsive: true,\n        maintainAspectRatio: false,\n        tooltips: {\n          callbacks: {\n            label: function (tooltipItem, data) {\n              return (\n                data[\"labels\"][tooltipItem[\"index\"]] +\n                \": \" +\n                data[\"datasets\"][0][\"data\"][tooltipItem[\"index\"]] +\n                \"%\"\n              );\n            },\n          },\n        },\n      },\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"doughnut-chart-container\">\n        <canvas ref={this.chartRef} />\n      </div>\n    );\n  }\n}\n\nexport default DoughnutChart;\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faLongArrowAltUp,\n  faLongArrowAltDown,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport Row from \"react-bootstrap/Row\";\n\nclass PercentDisplay extends Component {\n  render() {\n    let { percent, descriptions, emojis } = this.props;\n    let description = \"\";\n    let arrow, emoji;\n    if (percent < 0) {\n      arrow = (\n        <FontAwesomeIcon\n          icon={faLongArrowAltDown}\n          size=\"lg\"\n          color=\"red\"\n          style={{ marginRight: \"0.5em\" }}\n        />\n      );\n      description = descriptions[0];\n    } else if (percent === 0) {\n      description = descriptions[1];\n    } else {\n      arrow = (\n        <FontAwesomeIcon\n          icon={faLongArrowAltUp}\n          size=\"lg\"\n          color=\"rgba(73, 209, 0, 1)\"\n          style={{ marginRight: \"0.5em\" }}\n        />\n      );\n      description = descriptions[2];\n    }\n\n    if (percent > 100) {\n      emoji = emojis[emojis.length - 1];\n    } else if (percent < -100) {\n      emoji = emojis[0];\n    } else {\n      const rangeSize = 200 / emojis.length;\n      const index = Math.floor((percent + 100) / rangeSize);\n      emoji = emojis[index];\n    }\n\n    return (\n      <div>\n        <span className=\"emoji\"> {emoji} </span>\n        <Row className=\"d-flex flex-direction-column justify-content-center align-items-center\">\n          {arrow}\n          <h2>{Math.abs(percent)}%</h2>\n        </Row>\n        <h5>{description}</h5>\n      </div>\n    );\n  }\n}\n\nexport default PercentDisplay;\n","import React, { Component } from \"react\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n// import Fade from \"react-bootstrap/Fade\";\nimport Fade from \"react-reveal/Fade\";\nimport PercentDisplay from \"./PercentDisplay\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport Button from \"react-bootstrap/Button\";\n\nexport default class ComparisonsDisplay extends Component {\n  /**\n   * Computes the averages of an array of features of tracks\n   * @param  {Array<Features>} tracks - An array of track features\n   * @return {Array<Objects>} - An array of objects that contain trackID, acousticness, danceability, energy, and valence properties\n   */\n  averageFeatures(tracks) {\n    let averages = {};\n    tracks.forEach((track) => {\n      for (let key in track) {\n        if (key !== \"id\") {\n          if (!averages[key]) {\n            averages[key] = track[key];\n          } else {\n            averages[key] += track[key];\n          }\n        }\n      }\n    });\n    for (let key in averages) {\n      averages[key] = averages[key] / tracks.length;\n    }\n    return averages;\n  }\n\n  /**\n   * Returns the percent difference between the properties the newObject compared to the properties of the originalObject.\n   * @param  {Object} originalObject- The original object that will be compared against\n   * @param  {Object} newObject- The new object that will be compared to the original object\n   * @return An object containing the same properties with the percent difference as values\n   */\n  calculatePercentDifferences(originalObject, newObject) {\n    let differences = {};\n    for (const key in originalObject) {\n      const percentDifference = Math.round(\n        ((newObject[key] - originalObject[key]) / originalObject[key]) * 100\n      );\n      differences[key] = percentDifference;\n    }\n    return differences;\n  }\n\n  render() {\n    const averageRecentFeatures = this.averageFeatures(\n      this.props.recentTracksFeatures\n    );\n    const averageComparisonFeatures = this.averageFeatures(\n      this.props.comparisonTracksFeatures[this.props.comparisonType]\n    );\n\n    const differences = this.calculatePercentDifferences(\n      averageComparisonFeatures,\n      averageRecentFeatures\n    );\n\n    const { valence, danceability, energy, acousticness } = differences;\n\n    return (\n      <Fade bottom>\n        <hr />\n        <ButtonGroup className={\"mb-2\"}>\n          <Button\n            variant=\"outline-success\"\n            className={this.props.comparisonType === \"top\" && \"active\"}\n            type=\"radio\"\n            name=\"comparisonType\"\n            value=\"top\"\n            onClick={(e) => this.props.handleChange(e)}\n            checked={this.props.time_range === \"top\"}\n            defaultChecked\n          >\n            Today's Top Hits\n          </Button>\n          <Button\n            variant=\"outline-success\"\n            className={this.props.comparisonType === \"short_term\" && \"active\"}\n            type=\"radio\"\n            name=\"comparisonType\"\n            value=\"short_term\"\n            onClick={(e) => this.props.handleChange(e)}\n            checked={this.props.comparisonType === \"short_term\"}\n          >\n            Last Month\n          </Button>\n          <Button\n            variant=\"outline-success\"\n            className={this.props.comparisonType === \"medium_term\" && \"active\"}\n            type=\"radio\"\n            name=\"comparisonType\"\n            value=\"medium_term\"\n            onClick={(e) => this.props.handleChange(e)}\n            checked={this.props.comparisonType === \"medium_term\"}\n          >\n            Last 6 Months\n          </Button>\n          <Button\n            variant=\"outline-success\"\n            className={this.props.comparisonType === \"long_term\" && \"active\"}\n            type=\"radio\"\n            name=\"comparisonType\"\n            value=\"long_term\"\n            onClick={(e) => this.props.handleChange(e)}\n            checked={this.props.comparisonType === \"long_term\"}\n          >\n            All Time\n          </Button>\n        </ButtonGroup>\n\n        <Row>\n          <Col md={3}>\n            <PercentDisplay\n              percent={valence}\n              descriptions={[\"Less happy\", \"Same happiness\", \"Happier\"]}\n              emojis={[\"😭\", \"😢\", \"😕\", \"😃\", \"😁\", \"😊\"]}\n            />\n          </Col>\n          <Col md={3}>\n            <PercentDisplay\n              percent={danceability}\n              descriptions={[\n                \"Less danceable\",\n                \"Same danceability\",\n                \"More danceable\",\n              ]}\n              emojis={[\"💃\"]}\n            />\n          </Col>\n          <Col md={3}>\n            <PercentDisplay\n              percent={energy}\n              descriptions={[\"Less energetic\", \"Same energy\", \"More energetic\"]}\n              emojis={[\"😴\", \"⚡️\", \"🔥\"]}\n            />\n          </Col>\n          <Col md={3}>\n            <PercentDisplay\n              percent={acousticness}\n              descriptions={[\n                \"Less acoustic\",\n                \"Same acousticness\",\n                \"More acoustic\",\n              ]}\n              emojis={[\"🎸\", \"🎻\"]}\n            />\n          </Col>\n          <hr />\n        </Row>\n      </Fade>\n    );\n  }\n}\n","/**\n * File Name: Slider.js\n * Author: Nicholas Lin\n * Date: 7/13/20\n * Description: Displays contents for the \"Your Mood\" section\n */\n\nimport React, { Component } from \"react\";\nimport MUISlider from \"@material-ui/core/Slider\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport OverlayTrigger from \"react-bootstrap/OverlayTrigger\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport \"./slider.css\";\n\nclass Slider extends Component {\n  render() {\n    const { value, title, color, tooltip } = this.props;\n    const muiTheme = createMuiTheme({\n      overrides: {\n        MuiSlider: {\n          valueLabel: {\n            paddingLeft: \"4px\",\n          },\n          thumb: {\n            width: \"15px\",\n            height: \"15px\",\n          },\n          track: {\n            height: \"5px\",\n          },\n          rail: {\n            height: \"5px\",\n            color: \"#b1b1b1\",\n          },\n        },\n      },\n    });\n    const renderTooltip = (props) => <Tooltip {...props}>{tooltip}</Tooltip>;\n\n    return (\n      <div>\n        <span className=\"slider-title\">\n          <OverlayTrigger placement=\"right\" overlay={renderTooltip}>\n            <span className=\"slider-name\">{title}</span>\n          </OverlayTrigger>\n          <span className=\"slider-value\">{value}</span>\n        </span>\n\n        <ThemeProvider theme={muiTheme}>\n          <MUISlider\n            className={`slider--${color}`}\n            value={value}\n            valueLabelDisplay=\"auto\"\n          />\n        </ThemeProvider>\n      </div>\n    );\n  }\n}\n\nexport default Slider;\n","/**\n * File Name: TrackFeaturesDisplay.js\n * Author: Nicholas Lin\n * Date: 7/13/20\n * Description: Displays contents for the \"Your Mood\" section\n */\n\nimport React, { Component } from \"react\";\nimport Slider from \"./Slider\";\nimport Col from \"react-bootstrap/Col\";\nclass TrackFeaturesDisplay extends Component {\n  render() {\n    const { track } = this.props;\n    const COLORS = [\n      \"yellow\",\n      \"orange\",\n      \"red\",\n      \"purple\",\n      \"blue\",\n      \"light-blue\",\n      \"aqua\",\n      \"green\",\n    ];\n    const TOOLTIPS = [\n      \"Based on the total number of plays the track has had and how recent those plays are\",\n      \"Describes the musical positiveness conveyed by a track\",\n      \"Describes how suitable a track is for dancing based on tempo, rhythm, beat, etc.\",\n      \"Represents a perceptual measure of intensity and activity\",\n      \"A confidence measure from 0.0 to 1.0 of whether the track is acoustic\",\n      \"Detects the presence of an audience in the recording\",\n      \"Speechiness detects the presence of spoken words in a track\",\n      \"Predicts whether a track contains no vocals\",\n    ];\n    const sliders = [];\n    let index = 0;\n    for (const feature in track.features) {\n      let value = track.features[feature];\n      if (feature !== \"popularity\") {\n        value = Math.round(value * 100);\n      }\n      let title = feature.charAt(0).toUpperCase() + feature.slice(1);\n      if (title === \"Valence\") title = \"Happiness\";\n      sliders.push(\n        <Slider\n          key={`${feature}-slider`}\n          title={title}\n          value={value}\n          color={COLORS[index % COLORS.length]}\n          tooltip={TOOLTIPS[index]}\n        />\n      );\n      index++;\n    }\n\n    return (\n      <Col className=\"d-flex flex-column h-100 justify-content-between p-0\">\n        {sliders}\n      </Col>\n    );\n  }\n}\n\nexport default TrackFeaturesDisplay;\n","import React from \"react\";\nimport Carousel from \"react-bootstrap/Carousel\";\n\nexport function ImageCarousel(props) {\n  const carouselItems = props.images.map((image) => (\n    <Carousel.Item key={image.key}>\n      <img src={image.url} alt=\"album cover\" />\n    </Carousel.Item>\n  ));\n  return (\n    <Carousel\n      indicators={false}\n      controls={false}\n      fade={false}\n      interval={props.pause ? null : 5000}\n      onSelect={(e) => props.handleSlide(e)}\n      activeIndex={props.activeIndex}\n    >\n      {carouselItems}\n    </Carousel>\n  );\n}\n","/**\n * File Name: AudioPlayer.js\n * Author: Nicholas Lin\n * Date: 7/13/20\n * Description: Displays contents for the \"Your Mood\" section\n */\n\nimport React, { Component } from \"react\";\nimport AudioPlayer from \"react-h5-audio-player\";\nimport { ImageCarousel } from \"./ImageCarousel\";\nimport \"react-h5-audio-player/lib/styles.css\";\nimport \"./audio-player.css\";\n\nclass CarouselPlayer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      trackIsPlaying: false,\n    };\n    //If user plays track => pause carousel\n    //If user skips track while track is playing => go to next slide and play\n    //If user skips track while track is not playing => go to next slide and do not play\n\n    //If user pauses track => resume carousel && do not play next track\n    //If track ends => resume carousel && play next track\n  }\n\n  handlePlayPause(e) {\n    if (e.type === \"play\") {\n      this.setState({ trackIsPlaying: true });\n    } else if (e.type === \"pause\") {\n      this.setState({ trackIsPlaying: false });\n    }\n  }\n\n  handleEnded(e) {\n    this.props.nextSlide(e);\n    this.setState({ trackIsPlaying: true });\n  }\n\n  render() {\n    return (\n      <div>\n        <ImageCarousel\n          images={this.props.trackImages}\n          handleSlide={this.props.handleSlide}\n          pause={this.state.trackIsPlaying}\n          activeIndex={this.props.currentIndex}\n        />\n\n        <AudioPlayer\n          autoPlay={this.state.trackIsPlaying}\n          src={this.props.currentTrack.previewURL}\n          onPlay={(e) => this.handlePlayPause(e)}\n          onPause={(e) => this.handlePlayPause(e)}\n          onClickPrevious={(e) => this.props.previousSlide(e)}\n          onClickNext={(e) => this.props.nextSlide(e)}\n          onEnded={(e) => this.handleEnded(e)}\n          showFilledProgress={false}\n          showDownloadProgress={false}\n          showSkipControls={true}\n          showJumpControls={false}\n          customProgressBarSection={[]}\n          volume={0.3}\n          autoPlayAfterSrcChange={this.state.trackIsPlaying}\n        />\n      </div>\n    );\n  }\n}\n\nexport default CarouselPlayer;\n","/**\n * File Name: RecentShowcase.js\n * Author: Nicholas Lin\n * Date: 7/13/20\n * Description: Displays contents for the \"Your Mood\" section\n */\n\nimport React, { Component } from \"react\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport TrackFeaturesDisplay from \"./TrackFeaturesDisplay\";\n\nimport CarouselPlayer from \"./CarouselPlayer\";\nimport \"react-h5-audio-player/lib/styles.css\";\nimport \"./audio-player.css\";\n\nclass RecentShowcase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentTrack: this.props.tracks[0],\n      currentIndex: 0,\n    };\n    this.handleSlide = this.handleSlide.bind(this);\n    this.nextSlide = this.nextSlide.bind(this);\n    this.previousSlide = this.previousSlide.bind(this);\n  }\n\n  handleSlide(e) {\n    this.setState({ currentIndex: e, currentTrack: this.props.tracks[e] });\n  }\n\n  nextSlide() {\n    const newIndex = (this.state.currentIndex + 1) % this.props.tracks.length;\n    this.setState({\n      currentIndex: newIndex,\n      currentTrack: this.props.tracks[newIndex],\n    });\n  }\n\n  previousSlide() {\n    const newIndex =\n      this.state.currentIndex === 0\n        ? this.props.tracks.length - 1\n        : this.state.currentIndex - 1;\n    this.setState({\n      currentIndex: newIndex,\n      currentTrack: this.props.tracks[newIndex],\n    });\n  }\n\n  render() {\n    const trackImages = this.props.tracks.map((track) => {\n      return { key: track.id, url: track.image };\n    });\n\n    return (\n      <div>\n        <div style={{ minHeight: \"5em\" }}>\n          <h4>{this.state.currentTrack.name}</h4>\n          <h6>{this.state.currentTrack.artist}</h6>\n        </div>\n        <Row className=\"d-flex justify-content-center mt-2\">\n          <Col\n            md={{ span: 6, order: 2 }}\n            className=\"d-flex flex-column justify-content-center h-100\"\n          >\n            <CarouselPlayer\n              trackImages={trackImages}\n              handleSlide={this.handleSlide}\n              currentTrack={this.state.currentTrack}\n              currentIndex={this.state.currentIndex}\n              nextSlide={this.nextSlide}\n              previousSlide={this.previousSlide}\n            />\n          </Col>\n          <Col md={{ span: 6, order: 1 }}>\n            <TrackFeaturesDisplay track={this.state.currentTrack} />\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default RecentShowcase;\n","/**\n * File Name: MoodDashboard.js\n * Author: Nicholas Lin\n * Date: 7/11/20\n * Description: Displays contents for the \"Your Mood\" section\n */\n\nimport React, { Component } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport axios from \"axios\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Fade from \"react-reveal/Fade\";\nimport BSFade from \"react-bootstrap/Fade\";\n\nimport PopularityDisplay from \"./PopularityDisplay\";\nimport DoughnutChart from \"./DoughnutChart\";\nimport ComparisonsDisplay from \"./ComparisonsDisplay\";\nimport Api from \"../../Api\";\nimport RecentShowcase from \"./RecentShowcase\";\n\nclass MoodDashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      comparisonType: \"top\",\n      comparisonTracksFeatures: {},\n      recentTracksFeatures: [],\n      popularity: 0,\n      trackImages: [],\n      uniqueRecentTracks: [],\n      showComparison: true,\n    };\n    this.cycleComparisonTypes.bind(this);\n  }\n\n  /**\n   * Gets the genres for a an array of tracks\n   * @param  {Array<Simple Track Objects>} tracks - The array of tracks to get the genres of\n   * @return An array of objects with key and value properties key=genre, value=track count\n   */\n  async getGenres(tracks) {\n    let ids = [];\n    tracks.forEach((item) => {\n      ids.push(item.track.artists[0].id);\n    });\n    const endpoint = \"https://api.spotify.com/v1/artists\";\n    let res = await axios.get(endpoint, {\n      headers: {\n        Authorization: `Bearer ${this.props.token}`,\n      },\n      params: {\n        ids: ids.join(),\n      },\n    });\n    let map = new Map();\n    res.data.artists.forEach((artist) => {\n      // artist.genres.forEach((genre) => {\n      //   if (map.get(genre)) {\n      //     map.set(genre, map.get(genre) + 1);\n      //   } else {\n      //     map.set(genre, 1);\n      //   }\n      // });\n\n      // Get the first genre category for each song\n      const genre = artist.genres[0];\n      if (genre && map.get(genre)) {\n        map.set(genre, map.get(genre) + 1);\n      } else {\n        map.set(genre, 1);\n      }\n    });\n\n    let results = [];\n    map.forEach((val, key) => {\n      results.push({\n        key: key,\n        value: val,\n      });\n    });\n    // Sort in decreasing value order\n    results.sort((a, b) => b.value - a.value);\n    return results;\n  }\n\n  async getComparisonFeatures(type) {\n    const API = new Api(this.props.token);\n    const requestFeatures = [\n      \"acousticness\",\n      \"danceability\",\n      \"energy\",\n      \"valence\",\n      \"popularity\",\n    ];\n    if (type === \"top\") {\n      const searchResults = await API.searchForPlaylist(\n        [\"Today's top hits\"],\n        \"Spotify\"\n      );\n      const playlistID = searchResults[0].id;\n      const playlist = await API.getPlaylist(playlistID);\n      const playlistFeatures = await API.getTrackFeatures(\n        playlist.tracks,\n        requestFeatures\n      );\n      return playlistFeatures;\n    } else {\n      const favorites = await API.getUserFavorites(\"tracks\", type, 50);\n      const favoritesFeatures = await API.getTrackFeatures(\n        favorites,\n        requestFeatures\n      );\n      return favoritesFeatures;\n    }\n  }\n\n  async cycleComparisonTypes() {\n    const comparisonTypes = [\"top\", \"short_term\", \"medium_term\", \"long_term\"];\n\n    setInterval(async () => {\n      const index = comparisonTypes.indexOf(this.state.comparisonType) + 1;\n      this.setState({ showComparison: false });\n      const comparisonType = comparisonTypes[index % comparisonTypes.length];\n      setTimeout(() => {\n        this.setState({\n          showComparison: true,\n          comparisonType,\n        });\n      }, 500);\n    }, 10000);\n  }\n\n  async componentDidMount() {\n    try {\n      const API = new Api(this.props.token);\n      let requestFeatures = [\n        \"acousticness\",\n        \"danceability\",\n        \"energy\",\n        \"instrumentalness\",\n        \"liveness\",\n        \"speechiness\",\n        \"valence\",\n        \"popularity\",\n      ];\n      const recentTracks = await API.getRecentTracks();\n      const recentTracksFeatures = await API.getTrackFeatures(\n        recentTracks,\n        requestFeatures\n      );\n      let formattedRecentTracks = [];\n      for (let i = 0; i < recentTracks.length; i++) {\n        let formattedRecentTrack = {};\n        const track = recentTracks[i].track;\n        if (!recentTracksFeatures[i]) {\n          continue;\n        }\n        const {\n          popularity,\n          valence,\n          danceability,\n          energy,\n          acousticness,\n          liveness,\n          speechiness,\n          instrumentalness,\n        } = recentTracksFeatures[i];\n\n        formattedRecentTrack = {\n          id: track.id,\n          name: track.name,\n          artist: track.artists[0].name,\n          image: track.album.images[0].url,\n          previewURL: track.preview_url,\n          features: {\n            popularity,\n            valence,\n            danceability,\n            energy,\n            acousticness,\n            liveness,\n            speechiness,\n            instrumentalness,\n          },\n        };\n        formattedRecentTracks.push(formattedRecentTrack);\n      }\n\n      const uniqueRecentTracks = Array.from(\n        new Set(formattedRecentTracks.map((item) => item.id))\n      ).map((id) => {\n        return formattedRecentTracks.find((item) => item.id === id);\n      });\n      const genres = await this.getGenres(recentTracks);\n\n      let popularityScore = 0;\n      recentTracksFeatures.forEach((feature) => {\n        popularityScore += feature.popularity;\n      });\n      popularityScore /= recentTracksFeatures.length;\n\n      let comparisonTracksFeatures = {\n        top: [],\n        short_term: [],\n        medium_term: [],\n        long_term: [],\n      };\n      for (const key in comparisonTracksFeatures) {\n        comparisonTracksFeatures[key] = await this.getComparisonFeatures(key);\n      }\n\n      this.setState({\n        uniqueRecentTracks,\n        recentTracksFeatures: recentTracksFeatures,\n        comparisonTracksFeatures,\n        popularity: popularityScore,\n        genres,\n        isLoading: false,\n      });\n\n      this.props.load();\n      this.cycleComparisonTypes();\n    } catch (error) {\n      console.log(error);\n      if (error.response && error.response.status === 401)\n        this.props.handleTimeout();\n    }\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  handleChange(event) {\n    const { name, value, type, checked } = event.target;\n    type === \"checkbox\"\n      ? this.setState({ [name]: checked })\n      : this.setState({ [name]: value });\n  }\n\n  render() {\n    let comparisonDescriptor = \"\";\n    switch (this.state.comparisonType) {\n      case \"top\":\n        comparisonDescriptor = \"today's top hits\";\n        break;\n      case \"short_term\":\n        comparisonDescriptor = \"your last month\";\n        break;\n      case \"medium_term\":\n        comparisonDescriptor = \"your last 6 months\";\n        break;\n      case \"long_term\":\n        comparisonDescriptor = \"your all-time favorites\";\n        break;\n      default:\n        break;\n    }\n    return this.state.isLoading ? null : (\n      <div>\n        <Fade>\n          <Col className=\"mood-top-section d-flex flex-column\">\n            <header>Your Mood</header>\n\n            <PopularityDisplay score={this.state.popularity} />\n            <h4>\n              How do your recent songs compare to{\" \"}\n              {/* <CSSTransition in={this.state.showComparison} timeout={500} classNames=\"example\">\n                <span style={{ color: \"#1DB954\" }}>\n                  {comparisonDescriptor}\n                </span>\n              </CSSTransition> */}\n              <BSFade in={this.state.showComparison} timeout={500}>\n                <span style={{ color: \"#1DB954\", fontSize: \"xx-large\" }}>\n                  {comparisonDescriptor}\n                </span>\n              </BSFade>\n              ?\n            </h4>\n\n            <ComparisonsDisplay\n              percentages={this.state.percentages}\n              recentTracksFeatures={this.state.recentTracksFeatures}\n              comparisonTracksFeatures={this.state.comparisonTracksFeatures}\n              comparisonType={this.state.comparisonType}\n              showComparison={this.state.showComparison}\n              handleChange={(e) => this.handleChange(e)}\n            />\n          </Col>\n          <Container fluid className={\"mb-4 mt-2\"}>\n            <RecentShowcase tracks={this.state.uniqueRecentTracks} />\n          </Container>\n\n          <hr />\n          <Container\n            fluid\n            className=\" d-flex flex-column\"\n            style={{ minHeight: \"90vh\" }}\n          >\n            <Row>\n              <Col className=\"justify-content-center\">\n                <h2>{\"Your Recent Genres\"}</h2>\n                <DoughnutChart data={this.state.genres} />\n              </Col>\n            </Row>\n          </Container>\n        </Fade>\n\n        <hr />\n      </div>\n    );\n  }\n}\n\nexport default MoodDashboard;\n","import React from \"react\";\nimport cassette from \"../Assets/cassette.gif\";\nimport Fade from \"react-reveal/Fade\";\n\nexport default function Loading() {\n  return (\n    <div\n      style={{\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <Fade>\n        <img\n          src={cassette}\n          style={{ maxHeight: \"40vh\", maxWidth: \"80vw\" }}\n          alt=\"Cassette spinning loading animation\"\n        />\n        <h1>Loading your vibe...</h1>\n      </Fade>\n\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"../../result.css\";\nimport SoundWave from \"../SoundWave\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlayCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport Fade from \"react-reveal/Fade\";\n\nclass ResultItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPlaying: false,\n      isHovering: false,\n    };\n    this.handleMouseHover = this.handleMouseHover.bind(this);\n  }\n\n  handleClick() {\n    this.props.playTrack(this.props.previewURL);\n  }\n\n  handleMouseHover() {\n    this.setState(this.toggleHoverState);\n  }\n\n  toggleHoverState(state) {\n    return {\n      isHovering: !state.isHovering,\n    };\n  }\n\n  render() {\n    const {\n      type,\n      position,\n      title,\n      subtitle,\n      searchTerm,\n      image,\n      isPlaying,\n    } = this.props;\n\n    // Track name does not contain the search term\n    const termNotInTitle =\n      title.toLowerCase().indexOf(searchTerm.toLowerCase()) === -1;\n    // Artist name does not contain the search term\n    const termNotInSubtitle =\n      subtitle.toLowerCase().indexOf(searchTerm.toLowerCase()) === -1;\n\n    // If search term not in track then do not render\n    if (termNotInTitle && termNotInSubtitle) {\n      return null;\n    }\n\n    const resultCoverStyle = image\n      ? { backgroundImage: `url(${image})` }\n      : { backgroundColor: \"black\" };\n\n    let item = (\n      <Fade>\n        <div className=\"result-item\">\n          <span className=\"order-number\">{position}</span>\n          <span className=\"result-info\">\n            <span className=\"result-cover\" style={resultCoverStyle}></span>\n            <span className=\"result-summary\">\n              <span className=\"result-artist\">{subtitle}</span>\n              <span className=\"result-name\">{title}</span>\n            </span>\n          </span>\n          <div style={{ marginLeft: \"auto\" }}>\n            {isPlaying ? (\n              <SoundWave />\n            ) : (\n              this.state.isHovering && (\n                <FontAwesomeIcon size=\"3x\" icon={faPlayCircle} />\n              )\n            )}\n          </div>\n        </div>\n      </Fade>\n    );\n\n    if (type === \"track\") {\n      if (this.props.previewURL) {\n        item = (\n          <div\n            onMouseEnter={this.handleMouseHover}\n            onMouseLeave={this.handleMouseHover}\n            onClick={() => this.handleClick()}\n          >\n            {item}\n          </div>\n        );\n      } else {\n        item = (\n          <a\n            onMouseEnter={this.handleMouseHover}\n            onMouseLeave={this.handleMouseHover}\n            href={this.props.uri}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {item}\n          </a>\n        );\n      }\n    } else {\n      item = (\n        <a href={this.props.uri} rel=\"noopener noreferrer\" target=\"_blank\">\n          {item}\n        </a>\n      );\n    }\n\n    return item;\n  }\n}\n\nexport default ResultItem;\n","import React from \"react\";\nimport ResultItem from \"./ResultItem\";\n\nclass ResultTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentlyPlaying: \"\",\n    };\n    this.playTrack = this.playTrack.bind(this);\n  }\n  playTrack(previewURL) {\n    let activeTrack = document.getElementById(\"favorite-player\");\n    if (!activeTrack) {\n      activeTrack = new Audio(previewURL);\n      activeTrack.setAttribute(\"id\", \"favorite-player\");\n      activeTrack.onended = () => this.setState({ currentlyPlaying: \"\" });\n\n      activeTrack.volume = 0.3;\n      document.getElementById(\"result-table\").append(activeTrack);\n      activeTrack.play();\n      this.setState({ currentlyPlaying: previewURL });\n    } else {\n      if (activeTrack.paused) {\n        activeTrack.play();\n        this.setState({ currentlyPlaying: previewURL });\n      } else {\n        activeTrack.pause();\n        this.setState({ currentlyPlaying: \"\" });\n      }\n      if (activeTrack.src !== previewURL) {\n        activeTrack.currentTime = 0;\n        activeTrack.src = previewURL;\n        activeTrack.play();\n        this.setState({ currentlyPlaying: previewURL });\n      }\n    }\n  }\n\n  render() {\n    let results;\n    if (this.props.topType === \"tracks\") {\n      results = this.props.data.map((track, index) => (\n        <ResultItem\n          type=\"track\"\n          position={index + 1}\n          key={track.id}\n          title={track.name}\n          subtitle={track.artists[0].name}\n          image={\n            track.album.images[0] === undefined\n              ? null\n              : track.album.images[0].url\n          }\n          previewURL={track.preview_url}\n          uri={track.external_urls.spotify}\n          searchTerm={this.props.searchTerm}\n          playTrack={this.playTrack}\n          isPlaying={this.state.currentlyPlaying === track.preview_url}\n        />\n      ));\n    } else {\n      results = this.props.data.map((artist, index) => (\n        <ResultItem\n          type=\"artist\"\n          position={index + 1}\n          key={artist.id}\n          title={artist.name}\n          uri={artist.external_urls.spotify}\n          subtitle={artist.genres.join(\", \")}\n          image={artist.images[0] === undefined ? null : artist.images[0].url}\n          searchTerm={this.props.searchTerm}\n        />\n      ));\n    }\n    return (\n      <div id=\"result-table\">\n        {results ? (\n          results\n        ) : (\n          <h3 className=\"no-results\" style={{ alignSelf: \"center\" }}>\n            No Results\n          </h3>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ResultTable;\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\n\nclass SearchBar extends React.Component {\n  render() {\n    if (this.props.isLoggedIn) {\n      return null;\n    }\n    return (\n      <div>\n        <Row className=\"d-flex justify-content-between p-4\">\n          <Col md={4} className=\"mb-4\">\n            <input\n              className=\"search-field\"\n              name=\"searchTerm\"\n              value={this.props.searchTerm}\n              type=\"text\"\n              placeholder=\"Search\"\n              onChange={(e) => this.props.handleChange(e)}\n            ></input>\n          </Col>\n          <Col md={4} className=\"mb-4\">\n            <ButtonGroup>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.timeRange === \"short_term\" && \"active\"}\n                type=\"radio\"\n                name=\"timeRange\"\n                value=\"short_term\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.time_range === \"short_term\"}\n                defaultChecked\n              >\n                Last Month\n              </Button>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.timeRange === \"medium_term\" && \"active\"}\n                type=\"radio\"\n                name=\"timeRange\"\n                value=\"medium_term\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.timeRange === \"medium_term\"}\n              >\n                Last 6 Months\n              </Button>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.timeRange === \"long_term\" && \"active\"}\n                type=\"radio\"\n                name=\"timeRange\"\n                value=\"long_term\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.timeRange === \"long_term\"}\n              >\n                All Time\n              </Button>\n            </ButtonGroup>\n          </Col>\n          <Col md={4} className=\"mb-4\">\n            <ButtonGroup>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.topType === \"tracks\" && \"active\"}\n                type=\"radio\"\n                name=\"topType\"\n                value=\"tracks\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.topType === \"tracks\"}\n                defaultChecked\n              >\n                Tracks\n              </Button>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.topType === \"artists\" && \"active\"}\n                type=\"radio\"\n                name=\"topType\"\n                value=\"artists\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.topType === \"artists\"}\n              >\n                Artists\n              </Button>\n            </ButtonGroup>\n          </Col>\n        </Row>\n        {this.props.topType === \"tracks\" && (\n          <Row className=\"justify-content-center pb-4\">\n            <Button\n              variant=\"success\"\n              className=\"create-button\"\n              onClick={(e) => this.props.handleCreatePlaylist()}\n            >\n              Create Playlist\n              <span style={{ fontWeight: \"600\", fontSize: \"25px\" }}>\n                {\" \"}\n                &#43;\n              </span>\n            </Button>\n          </Row>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from \"react\";\nimport ResultTable from \"./ResultTable\";\nimport SearchBar from \"./SearchBar\";\nimport Api from \"../../Api\";\nimport Fade from \"react-reveal/Fade\";\n\nclass FavoritesDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      data: [],\n      timeRange: \"short_term\",\n      searchTerm: \"\",\n      topType: \"tracks\",\n    };\n  }\n\n  handleChange = async (event) => {\n    const { name, value, type, checked } = event.target;\n    if (name === \"topType\") {\n      this.setState({ data: [] });\n    }\n    (await type) === \"checkbox\"\n      ? this.setState({ [name]: checked })\n      : this.setState({ [name]: value });\n\n    const API = new Api(this.props.token);\n    const response = await API.getUserFavorites(\n      this.state.topType,\n      this.state.timeRange,\n      50\n    );\n    this.setState({ data: response, isLoading: false });\n  };\n\n  handleCreatePlaylist = async () => {\n    const API = new Api(this.props.token);\n    const userID = await API.getUserID();\n\n    let descriptor;\n    switch (this.state.timeRange) {\n      case \"short_term\":\n        descriptor = \"Last Month\";\n        break;\n      case \"medium_term\":\n        descriptor = \"Last 6 Months\";\n        break;\n      case \"long_term\":\n        descriptor = \"All Time\";\n        break;\n      default:\n        break;\n    }\n    const date = new Date();\n    let playlistName = \"My Top 50 Songs • \" + descriptor;\n    const playlistDescription =\n      \"Created on \" + date.toDateString() + \", courtesy of Spotivibe ❤️\";\n    const playlistID = await API.createPlaylist(\n      userID,\n      playlistName,\n      playlistDescription,\n      false\n    );\n    const uris = this.state.data.map((track) => {\n      return track.uri;\n    });\n    await API.addItemsToPlaylist(playlistID, uris);\n    const playlistURI = `spotify:user:${userID}:playlist:${playlistID}`;\n    window.open(playlistURI, \"_blank\", \"\");\n  };\n\n  async componentDidMount() {\n    const API = new Api(this.props.token);\n    const response = await API.getUserFavorites(\n      this.state.topType,\n      this.state.timeRange,\n      50\n    );\n    this.setState({ data: response, isLoading: false });\n    this.props.load();\n  }\n\n  render() {\n    return this.state.isLoading ? null : (\n      <div>\n        <Fade>\n          <header>Your Favorites</header>\n          <SearchBar\n            handleChange={this.handleChange}\n            handleCreatePlaylist={this.handleCreatePlaylist}\n            timeRange={this.state.timeRange}\n            topType={this.state.topType}\n          />\n        </Fade>\n        <ResultTable\n          topType={this.state.topType}\n          data={this.state.data}\n          searchTerm={this.state.searchTerm}\n        />\n      </div>\n    );\n  }\n}\n\nexport default FavoritesDisplay;\n","import React from \"react\";\nimport Fade from \"react-reveal/Fade\";\n\nexport default function Loading() {\n  return (\n    <footer className=\"mt-2 mb-4\">\n      <Fade>\n        <h6>Like what you see?</h6>\n        <h6>\n          Give this project a{\" \"}\n          <span role=\"img\" aria-label=\"star emoji\">\n            🌟\n          </span>{\" \"}\n          on\n          <a\n            href=\"https://github.com/Nicholas-Lin/vibe\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {\" \"}\n            Github.\n          </a>\n        </h6>\n        <h6>\n          Share it with your friends{\" \"}\n          <span role=\"img\" aria-label=\"star emoji\">\n            😎\n          </span>\n        </h6>\n      </Fade>\n    </footer>\n  );\n}\n","/**\n * File Name: MainDisplay.js\n * Author: Nicholas Lin\n * Date: 7/11/20\n * Description: Main display after login\n */\n\nimport React from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport VibeDashboard from \"../Components/Vibe/VibeDashboard\";\nimport MoodDashboard from \"../Components/Mood/MoodDashboard\";\nimport Loading from \"../Components/Loading\";\nimport FavoritesDisplay from \"../Components/Favorites/FavoritesDisplay\";\nimport Footer from \"../Components/Footer\";\n\nclass MainDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      moodDashboardIsLoading: true,\n      vibeDashboardIsLoading: true,\n      favoritesDisplayIsLoading: true,\n    };\n  }\n\n  /**\n   * Updates the loading status of the component based on loading status of child components\n   */\n  updateLoadingStatus() {\n    if (\n      !this.state.moodDashboardIsLoading &&\n      !this.state.vibeDashboardIsLoading &&\n      !this.state.favoritesDisplayIsLoading\n    ) {\n      this.setState({\n        isLoading: false,\n      });\n    }\n  }\n\n  /**\n   * Updates the loading status of the mood dashboard in the state\n   */\n  loadMoodDashboard() {\n    this.setState({\n      moodDashboardIsLoading: false,\n    });\n    this.updateLoadingStatus();\n  }\n\n  /**\n   * Updates the loading status of the vibe dashboard in the state\n   */\n  loadVibeDashboard() {\n    this.setState({\n      vibeDashboardIsLoading: false,\n    });\n    this.updateLoadingStatus();\n  }\n\n  /**\n   * Updates the loading status of the favorites display in the state\n   */\n  loadFavorites() {\n    this.setState({\n      favoritesDisplayIsLoading: false,\n    });\n    this.updateLoadingStatus();\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.isLoading && <Loading />}\n        <Container fluid=\"lg\">\n          <MoodDashboard\n            token={this.props.token}\n            load={() => this.loadMoodDashboard()}\n            handleTimeout={() => this.props.handleTimeout()}\n          />\n\n          <VibeDashboard\n            token={this.props.token}\n            load={() => this.loadVibeDashboard()}\n          />\n          <FavoritesDisplay\n            token={this.props.token}\n            load={() => this.loadFavorites()}\n          />\n          <Footer />\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default MainDisplay;\n","/**\n * File Name: App.js\n * Author: Nicholas Lin\n * Date: 7/11/20\n * Description: Main entrypoint of react app\n */\n\nimport React from \"react\";\nimport \"./App.css\";\nimport hash from \"./hash\";\nimport { loginURL } from \"./config\";\nimport Login from \"./Views/Login\";\nimport MainDisplay from \"./Views/MainDisplay\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false,\n      token: null,\n    };\n  }\n\n  componentDidMount() {\n    let _token = hash.access_token;\n    if (_token) {\n      // Set token\n      this.setState({\n        token: _token,\n      });\n    }\n  }\n\n  handleLogin() {\n    window.location.replace(loginURL);\n    this.setState({\n      isLoggedIn: true,\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {!this.state.token && (\n          <Login\n            isLoggedIn={this.state.isLoggedIn}\n            handleLogin={() => this.handleLogin()}\n          />\n        )}\n        {this.state.token && (\n          <MainDisplay\n            token={this.state.token}\n            handleTimeout={() => this.handleLogin()}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","module.exports = __webpack_public_path__ + \"static/media/cassette.f720df37.gif\";"],"sourceRoot":""}