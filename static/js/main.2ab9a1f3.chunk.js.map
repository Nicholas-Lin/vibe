{"version":3,"sources":["hash.js","config.js","Components/SubmitButton.js","Components/SoundWave.js","Views/Login.js","Components/TrackItem.js","Components/ArtistItem.js","Components/ResultTable.js","Components/SearchBar.js","Components/LineChart.js","Components/Dashboard.js","App.js","index.js"],"names":["hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","loginURL","join","SubmitButton","this","props","isLoggedIn","Button","className","variant","onClick","handleLogin","React","Component","Login","Container","Col","SoundWave","href","TrackItem","previewURL","playTrack","position","track","searchTerm","albumImgURL","album","images","url","preview_url","termNotInName","name","toLowerCase","indexOf","artists","handleClick","style","backgroundImage","ArtistItem","artist","genres","imgURL","ResultTable","activeTrack","document","querySelector","paused","play","pause","src","currentTime","Audio","volume","getElementById","append","results","topType","topTracks","map","index","key","id","topArtists","alignSelf","SearchBar","initializeData","Row","md","value","type","placeholder","onChange","e","handleChange","ButtonGroup","timeRange","checked","time_range","defaultChecked","Chart","defaults","global","defaultFontColor","defaultColor","scale","gridLines","color","LineChart","chartRef","createRef","current","data","labels","datasets","dataset","label","borderColor","borderWidth","fill","backgroundColor","pointBackgroundColor","pointBorderWidth","pointBorderColor","pointRadius","pointHitRadius","pointHoverBackgroundColor","pointHoverBorderColor","options","tooltips","mode","bodyFontColor","title","description","ref","width","height","Dashboard","getTopPlaylists","a","axios","get","headers","Authorization","state","token","params","q","limit","res","Promise","all","playlists","items","length","owner","display_name","fields","response","year","pop","playlist","tracks","setState","getTrackFeatures","playlistFeatures","computeFeatures","recentPlaylist","createGraphData","console","log","features","isLoading","ids","forEach","push","audio_features","acousticness","danceability","energy","valence","averageFeatures","Math","round","Number","EPSILON","averages","graphData","sortedByYearFeatures","concat","sort","b","localeCompare","formattedData","topSpotifyDatasets","feature","chartDescriptions","display","alignItems","justifyContent","App","event","target","refreshData","getTopArtists","customParams","then","catch","err","getTopTracks","analyzeTopTracks","audioAnalysis","_token","access_token","replace","Fragment","ReactDOM","render"],"mappings":"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","file":"static/js/main.2ab9a1f3.chunk.js","sourcesContent":["const hash = window.location.hash\n  .substring(1)\n  .split(\"&\")\n  .reduce(function (initial, item) {\n    if (item) {\n      var parts = item.split(\"=\");\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n    }\n    return initial;\n  }, {});\n//window.location.hash = \"\";\n\nexport default hash;\n","export const authEndpoint = \"https://accounts.spotify.com/authorize\";\n\n// Replace with your app's client ID, redirect URI and desired scopes\nexport const clientId = \"03448805c58d4c5ba555ea203c8ce771\";\n//export const redirectUri = \"http://nicholas-lin.github.io/vibe/\";\nexport const redirectUri = \"http://localhost:3000/\";\nexport const scopes = [\"playlist-read-private\", \"user-top-read\"];\nexport const loginURL = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\n  \"%20\"\n)}&response_type=token&show_dialog=true`;\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nclass SubmitButton extends React.Component {\n  render() {\n    if (this.props.isLoggedIn) {\n      return null;\n    }\n    return (\n      <div>\n        <Button\n          className=\"submit-button\"\n          variant=\"success\"\n          onClick={() => this.props.handleLogin()}\n        >\n          Login with Spotify\n        </Button>\n      </div>\n    );\n  }\n}\n\nexport default SubmitButton;\n","import React from \"react\";\nimport \"../sound-wave.css\";\n\nclass Login extends React.Component {\n  render() {\n    return (\n      <div className=\"sound-icon disabled\">\n        <div className=\"sound-wave\">\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n          <i className=\"bar\"></i>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport SubmitButton from \"../Components/SubmitButton\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport SoundWave from \"../Components/SoundWave\";\n\nclass Login extends React.Component {\n  render() {\n    if (this.props.isLoggedIn) {\n      return null;\n    }\n    return (\n      <Container>\n        <Col className=\"d-flex align-items-center flex-column login justify-content-center\">\n          <header> Vibe </header>\n          <SoundWave />\n          <SubmitButton\n            isLoggedIn={this.props.isLoggedIn}\n            handleLogin={() => this.props.handleLogin()}\n          />\n          <h5 className=\"mt-5\">Get insights into your vibe.</h5>\n          <h6 className=\"mt-5\">Your information will not be stored.</h6>\n          <h6>\n            {\" \"}\n            Created by{\" \"}\n            <a href=\"https://nicholas-lin.github.io/\"> Nicholas Lin. </a>{\" \"}\n            Powered by{\" \"}\n            <a href=\"https://developer.spotify.com/documentation/web-api/\">\n              {\" \"}\n              Spotify's API.{\" \"}\n            </a>{\" \"}\n          </h6>\n        </Col>\n      </Container>\n    );\n  }\n}\n\nexport default Login;\n","import React from \"react\";\nimport \"../track.css\"\n\nclass TrackItem extends React.Component {\n\n    handleClick(previewURL) {\n        this.props.playTrack(previewURL)\n    }\n\n    render() {\n        const { position, track, searchTerm } = this.props;\n        const albumImgURL = track.album.images[0].url;\n        const previewURL = track.preview_url;\n\n        // Track name does not contain the search term\n        const termNotInName = track.name.toLowerCase().indexOf(searchTerm) === -1\n        // Artist name does not contain the search term\n        const termNotInArtist = track.artists[0].name.toLowerCase().indexOf(searchTerm) === -1\n\n        // If search term not in track then do not render\n        if (termNotInArtist && termNotInName) {\n            return null;\n        }\n\n        return (\n            <div onClick={() => this.handleClick(previewURL)}>\n                <a className=\"track-history-item\">\n                    <span className=\"order-number\">{position}</span>\n                    <span className=\"track-info\">\n                        <span className=\"track-cover\" style={{ backgroundImage: `url(${albumImgURL})` }}></span>\n                        <span className=\"track-summary\">\n                            <span className=\"track-artist\">{track.artists[0].name}</span>\n                            <span className=\"track-name\">{track.name}</span>\n                        </span>\n                    </span>\n                </a>\n            </div>\n        );\n    }\n}\n\nexport default TrackItem","import React from \"react\";\nimport \"../track.css\"\n\nclass ArtistItem extends React.Component {\n\n    render() {\n        const { position, artist, searchTerm } = this.props;\n        let { name, genres} = artist;\n        const imgURL = artist.images[0].url;\n\n\n        genres = genres.join(\", \");\n\n        // Track name does not contain the search term\n        const termNotInName = name.toLowerCase().indexOf(searchTerm) === -1\n        // Genres do not contain the search term\n        const termNotInGenres = genres.toLowerCase().indexOf(searchTerm) === -1\n\n        // If search term not in track then do not render\n        if (termNotInGenres && termNotInName) {\n            return null;\n        }\n\n        return (\n            <div>\n                <a className=\"track-history-item\">\n                    <span className=\"order-number\">{position}</span>\n                    <span className=\"track-info\">\n                        <span className=\"track-cover\" style={{ backgroundImage: `url(${imgURL})` }}></span>\n                        <span className=\"track-summary\">\n                            <span className=\"track-artist\">{genres}</span>\n                            <span className=\"track-name\">{name}</span>\n                        </span>\n                    </span>\n                </a>\n            </div>\n        );\n    }\n}\n\nexport default ArtistItem","import React from \"react\";\nimport TrackItem from \"./TrackItem\";\nimport ArtistItem from \"./ArtistItem\";\nimport Container from \"react-bootstrap/Container\";\nimport \"../index.css\";\n\nclass ResultTable extends React.Component {\n  playTrack(previewURL) {\n    let activeTrack = document.querySelector(\"audio\");\n    if (!activeTrack) {\n      activeTrack = new Audio(previewURL);\n      activeTrack.volume = 0.25;\n      document.getElementById(\"result-table\").append(activeTrack);\n      activeTrack.play();\n    } else {\n      activeTrack.paused ? activeTrack.play() : activeTrack.pause();\n      if (activeTrack.src !== previewURL) {\n        activeTrack.currentTime = 0;\n        activeTrack.src = previewURL;\n        activeTrack.play();\n      }\n    }\n  }\n\n  render() {\n    let results;\n    if (this.props.topType === \"tracks\") {\n      results = this.props.topTracks.map((track, index) => (\n        <TrackItem\n          position={index + 1}\n          key={track.id}\n          track={track}\n          searchTerm={this.props.searchTerm}\n          playTrack={this.playTrack}\n        />\n      ));\n    } else {\n      results = this.props.topArtists.map((artist, index) => (\n        <ArtistItem\n          position={index + 1}\n          key={artist.id}\n          artist={artist}\n          searchTerm={this.props.searchTerm}\n        />\n      ));\n    }\n    return (\n      <div id=\"result-table\">\n        {results ? (\n          results\n        ) : (\n          <h3 className=\"no-results\" style={{ alignSelf: \"center\" }}>\n            No Results\n          </h3>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default ResultTable;\n","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\n\nclass SearchBar extends React.Component {\n  componentDidMount() {\n    this.props.initializeData();\n  }\n  render() {\n    if (this.props.isLoggedIn) {\n      return null;\n    }\n    return (\n      <div>\n        <Row className=\"d-flex justify-content-between p-4\">\n          <Col md={4} className=\"mb-4\">\n            <input\n              className=\"search-field\"\n              name=\"searchTerm\"\n              value={this.props.searchTerm}\n              type=\"text\"\n              placeholder=\"Search\"\n              onChange={(e) => this.props.handleChange(e)}\n            ></input>\n          </Col>\n          <Col md={4} className=\"mb-4\">\n            <ButtonGroup>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.timeRange === \"short_term\" && \"active\"}\n                type=\"radio\"\n                name=\"timeRange\"\n                value=\"short_term\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.time_range === \"short_term\"}\n                defaultChecked\n              >\n                Last Month\n              </Button>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.timeRange === \"medium_term\" && \"active\"}\n                type=\"radio\"\n                name=\"timeRange\"\n                value=\"medium_term\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.timeRange === \"medium_term\"}\n              >\n                Last 6 Months\n              </Button>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.timeRange === \"long_term\" && \"active\"}\n                type=\"radio\"\n                name=\"timeRange\"\n                value=\"long_term\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.timeRange === \"long_term\"}\n              >\n                All Time\n              </Button>\n            </ButtonGroup>\n          </Col>\n          <Col md={4} className=\"mb-4\">\n            <ButtonGroup>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.topType === \"tracks\" && \"active\"}\n                type=\"radio\"\n                name=\"topType\"\n                value=\"tracks\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.topType === \"tracks\"}\n                defaultChecked\n              >\n                Tracks\n              </Button>\n              <Button\n                variant=\"outline-success\"\n                className={this.props.topType === \"artists\" && \"active\"}\n                type=\"radio\"\n                name=\"topType\"\n                value=\"artists\"\n                onClick={(e) => this.props.handleChange(e)}\n                checked={this.props.topType === \"artists\"}\n                defaultChecked\n              >\n                Artists\n              </Button>\n            </ButtonGroup>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from \"react\";\nimport Chart from \"chart.js\";\nimport Col from \"react-bootstrap/Col\";\n\nChart.defaults.global.defaultFontColor = \"white\";\nChart.defaults.global.defaultColor = \"white\";\nChart.defaults.scale.gridLines.color = \"rgb(83,83,83)\";\n\nclass LineChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.chartRef = React.createRef();\n  }\n  componentDidMount() {\n    new Chart(this.chartRef.current, {\n      type: \"line\",\n      data: {\n        labels: this.props.data.labels,\n        datasets: this.props.data.datasets.map((dataset) => {\n          return {\n            data: dataset.data,\n            label: dataset.label,\n            borderColor: dataset.borderColor,\n            borderWidth: 2,\n            fill: dataset.fill,\n            backgroundColor: dataset.backgroundColor,\n\n            pointBackgroundColor: dataset.borderColor,\n            pointBorderWidth: 1,\n            pointBorderColor: \"black\",\n            pointRadius: 5,\n            pointHitRadius: 6,\n            pointHoverBackgroundColor: \"black\",\n            pointHoverBorderColor: dataset.borderColor,\n          };\n        }),\n      },\n      options: {\n        tooltips: {\n          mode: \"x-axis\",\n          bodyFontColor: \"#ffffff\",\n          backgroundColor: \"#000000\",\n        },\n      },\n    });\n  }\n\n  render() {\n    return (\n      <Col className=\" h-100 d-flex flex-column justify-content-between align-items-center p-0\">\n        <h3>{this.props.title}</h3>\n        <p>{this.props.description}</p>\n        <canvas ref={this.chartRef} width=\"400\" height=\"300\" />\n      </Col>\n    );\n  }\n}\n\nexport default LineChart;\n","import React from \"react\";\nimport LineChart from \"./LineChart\";\nimport axios from \"axios\";\nimport SoundWave from \"./SoundWave\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: this.props.token,\n      data: [],\n      features: [],\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.getTopPlaylists();\n  }\n\n  getTopPlaylists = async () => {\n    let res = await axios.get(\"\thttps://api.spotify.com/v1/search\", {\n      headers: {\n        Authorization: `Bearer ${this.state.token}`,\n      },\n      params: {\n        q: \"Your%20Top%20Songs\",\n        type: \"playlist\",\n        limit: \"10\",\n      },\n    });\n\n    let playlistRequests = [];\n    await Promise.all(\n      res.data.playlists.items.map(async (item) => {\n        // If search result is a top track playlist\n        if (item.name.length === 19 && item.owner.display_name === \"Spotify\") {\n          let response = await axios.get(\n            `https://api.spotify.com/v1/playlists/${item.id}`,\n            {\n              headers: {\n                Authorization: `Bearer ${this.state.token}`,\n              },\n              params: {\n                fields: \"name,tracks.items(track)\",\n              },\n            }\n          );\n          const year = response.data.name.split(\" \").pop();\n          const playlist = {\n            year: year,\n            tracks: response.data.tracks.items,\n          };\n          this.setState({\n            data: [...this.state.data, playlist],\n          });\n          const playlistFeatures = await this.getTrackFeatures(playlist.tracks);\n          this.computeFeatures(year, playlistFeatures);\n        }\n      })\n    );\n    let recentPlaylist = await axios.get(\n      \"https://api.spotify.com/v1/me/top/tracks\",\n      {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`,\n        },\n        params: {\n          time_range: \"medium_term\",\n          limit: 50,\n        },\n      }\n    );\n    const playlistFeatures = await this.getTrackFeatures(\n      recentPlaylist.data.items\n    );\n    this.computeFeatures(\"2020\", playlistFeatures);\n    this.createGraphData();\n    console.log(this.state.features);\n    console.log(this.state.data);\n  };\n  async getTrackFeatures(tracks) {\n    let ids = [];\n    tracks.forEach((item) => {\n      if (item.track) ids.push(item.track.id);\n      else ids.push(item.id);\n    });\n    let res = await axios.get(\"https://api.spotify.com/v1/audio-features\", {\n      headers: {\n        Authorization: `Bearer ${this.state.token}`,\n      },\n      params: {\n        ids: ids.join(),\n      },\n    });\n    let results = [];\n    res.data.audio_features.forEach((track) => {\n      const { id, acousticness, danceability, energy, valence } = track;\n      results.push({\n        id: id,\n        acousticness: acousticness,\n        danceability: danceability,\n        energy: energy,\n        valence: valence,\n      });\n    });\n    return results;\n  }\n\n  computeFeatures(year, playlistFeatures) {\n    let averageFeatures = {\n      acousticness: 0,\n      danceability: 0,\n      energy: 0,\n      valence: 0,\n    };\n    playlistFeatures.forEach((track) => {\n      for (let key in track) {\n        if (key != \"id\") {\n          averageFeatures[key] += track[key];\n        }\n      }\n    });\n    for (let key in averageFeatures) {\n      averageFeatures[key] =\n        Math.round(\n          ((averageFeatures[key] * 100) / playlistFeatures.length +\n            Number.EPSILON) *\n            100\n        ) / 100;\n    }\n    this.setState({\n      features: [\n        ...this.state.features,\n        {\n          year: year,\n          averages: averageFeatures,\n        },\n      ],\n    });\n  }\n\n  createGraphData() {\n    let graphData = {\n      acousticness: [],\n      danceability: [],\n      energy: [],\n      valence: [],\n    };\n    let sortedByYearFeatures = []\n      .concat(this.state.features)\n      .sort((a, b) => a.year.localeCompare(b.year));\n\n    sortedByYearFeatures.forEach((year) => {\n      for (let key in year.averages) {\n        graphData[key].push(year.averages[key]);\n      }\n    });\n    let formattedData = {};\n\n    const topSpotifyDatasets = {\n      acousticness: [15.88, 16.63, 19.57, 22.16, 21.39],\n      danceability: [63.25, 69.68, 71.65, 71.38, 71.99],\n      energy: [67.24, 66.07, 65.91, 64.06, 65.05],\n      valence: [45.15, 51.7, 48.44, 54.6, 53.1],\n    };\n    for (const feature in graphData) {\n      formattedData[feature] = {\n        labels: sortedByYearFeatures.map((playlist) => playlist.year),\n        datasets: [\n          {\n            data: graphData[feature],\n            label: \"Your Top Songs\",\n            fill: true,\n            borderColor: \"rgba(29,185,84,1)\",\n            backgroundColor: \"rgba(29,185,84,0.4)\",\n          },\n          {\n            data: topSpotifyDatasets[feature],\n            label: \"Top Spotify Songs\",\n            fill: false,\n            borderColor: \"rgba(255,99,132,1)\",\n          },\n        ],\n      };\n    }\n    this.setState({ formattedData: formattedData, isLoading: false });\n  }\n  render() {\n    const chartDescriptions = {\n      valence:\n        \"Describes the musical positiveness conveyed by a track. Tracks with high valence sound more positive, while tracks with low valence sound more negative.\",\n      danceability:\n        \"Describes how suitable a track is for dancing based on a combination of musical elements.\",\n      energy:\n        \"Represents a perceptual measure of intensity and activity based on dynamic range, general entropy, etc.\",\n      acousticness:\n        \"A confidence measure from 0 to 100 of whether the track is acoustic. 100 represents high confidence the track is acoustic.\",\n    };\n    return this.state.isLoading ? (\n      <div\n        style={{\n          height: \"90vh\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <SoundWave />\n      </div>\n    ) : (\n      <div>\n        <Container>\n          <Row className=\"mb-4\">\n            <Col md={6} className=\"mb-4\">\n              <LineChart\n                title=\"Valence\"\n                description={chartDescriptions.valence}\n                data={this.state.formattedData.valence}\n              />\n            </Col>\n            <Col md={6} className=\"mb-4\">\n              <LineChart\n                title=\"Danceability\"\n                description={chartDescriptions.danceability}\n                data={this.state.formattedData.danceability}\n              />\n            </Col>\n          </Row>\n          <Row className=\"mb-4\">\n            <Col md={6} className=\"mb-4\">\n              <LineChart\n                title=\"Energy\"\n                description={chartDescriptions.energy}\n                data={this.state.formattedData.energy}\n              />\n            </Col>\n            <Col md={6} className=\"mb-4\">\n              <LineChart\n                title=\"Acousticness\"\n                description={chartDescriptions.acousticness}\n                data={this.state.formattedData.acousticness}\n              />\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from \"react\";\nimport \"./App.css\";\nimport hash from \"./hash\";\nimport { loginURL } from \"./config\";\nimport Container from \"react-bootstrap/Container\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Login from \"./Views/Login\";\nimport ResultTable from \"./Components/ResultTable\";\nimport SearchBar from \"./Components/SearchBar\";\nimport Dashboard from \"./Components/Dashboard\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoggedIn: false,\n      token: null,\n      topTracks: [],\n      topArtists: [],\n      audioAnalysis: [],\n      timeRange: \"short_term\",\n      searchTerm: \"\",\n      topType: \"tracks\",\n    };\n  }\n\n  componentDidMount() {\n    let _token = hash.access_token;\n\n    if (_token) {\n      // Set token\n      this.setState({\n        token: _token,\n      });\n    }\n  }\n\n  handleLogin() {\n    console.log(loginURL);\n    window.location.replace(loginURL);\n    this.setState({\n      isLoggedIn: true,\n    });\n  }\n\n  handleChange = async (event) => {\n    const { name, value, type, checked } = event.target;\n    (await type) === \"checkbox\"\n      ? this.setState({ [name]: checked })\n      : this.setState({ [name]: value });\n    if (name === \"timeRange\") {\n      this.refreshData();\n    }\n  };\n\n  getTopArtists = async () => {\n    let customParams = {\n      headers: {\n        Authorization: `Bearer ${this.state.token}`,\n      },\n      params: {\n        time_range: this.state.timeRange,\n        limit: 50,\n      },\n    };\n    await axios\n      .get(\"https://api.spotify.com/v1/me/top/artists\", customParams)\n      .then((res) => {\n        this.setState({ topArtists: res.data.items });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  getTopTracks = async () => {\n    await axios\n      .get(\"https://api.spotify.com/v1/me/top/tracks\", {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`,\n        },\n        params: {\n          time_range: this.state.timeRange,\n          limit: 50,\n        },\n      })\n      .then((res) => {\n        this.setState({ topTracks: res.data.items });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n    await this.analyzeTopTracks();\n  };\n\n  analyzeTopTracks = async () => {\n    let ids = [];\n    this.state.topTracks.forEach((track) => {\n      ids.push(track.id);\n    });\n\n    let customParams = {\n      headers: {\n        Authorization: `Bearer ${this.state.token}`,\n      },\n      params: {\n        ids: ids.join(),\n      },\n    };\n    await axios\n      .get(\"https://api.spotify.com/v1/audio-features\", customParams)\n      .then((res) => {\n        res.data.audio_features.forEach((track) => {\n          const { id, acousticness, danceability, energy, valence } = track;\n          this.setState({\n            audioAnalysis: [\n              ...this.state.audioAnalysis,\n              {\n                id: id,\n                acousticness: acousticness,\n                danceability: danceability,\n                energy: energy,\n                valence: valence,\n              },\n            ],\n          });\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  refreshData = () => {\n    this.getTopArtists();\n    this.getTopTracks();\n  };\n\n  initializeData = () => {\n    this.getTopArtists();\n    this.getTopTracks();\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        {!this.state.token && (\n          <Login\n            isLoggedIn={this.state.isLoggedIn}\n            handleLogin={() => this.handleLogin()}\n          />\n        )}\n        {this.state.token && (\n          <React.Fragment>\n            <Container>\n              <header> Your Vibe </header>\n              <Dashboard\n                handleChange={this.handleChange}\n                initializeData={this.initializeData}\n                token={this.state.token}\n              />\n              <hr />\n              <SearchBar\n                handleChange={this.handleChange}\n                timeRange={this.state.timeRange}\n                topType={this.state.topType}\n                initializeData={this.initializeData}\n              />\n              <ResultTable\n                topType={this.state.topType}\n                topTracks={this.state.topTracks}\n                topArtists={this.state.topArtists}\n                searchTerm={this.state.searchTerm}\n              />\n            </Container>\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}